# 📂 [Algo] 백준 16713 - Generic Queries

> 날짜: 2026-01-22 | 난이도: Silver 1

### 1. 핵심 아이디어 💡
* **알고리즘**: 누적합(PrefixSum) : XOR 결과에 대해 전처리 해두고, 쿼리별 결과 출력
* **핵심 발상**:
- XOR : 두 비트가 달라야만 1이 되는 연산, **"1이 홀수 개면 1, 짝수 개면 0"**
- `a ^ 0 = a` // 0과의 XOR 연산은 자기 자신
- `a ^ a = 0` // 자기 자신과의 XOR 연산은 0

### 2.  누적합(Prefix Sum)의 필요충분조건 
- 교환법칙과 결합법칙이 연산에 대해 성립해야한다.

#### XOR은 교환법칙, 결합법칙이 성립하는가?
- **교환법칙** : 비트 단위에서 **1과 0의 개수는 순서를 바꿔도 불변**
- **결합법칙** : 연산 시, 어떻게 결합하든 **1인 비트의 개수는 불변**

#### XOR은 역연산(역원)이 존재하는가?
- **일반 누적합** : 1~10번의 합에서 1~4번을 빼서 5~10을 구하는데 이 때, 빼기가 더하기의 역연산이다.
- **구간 XOR** : 1~10번 XOR에서 1~4번 XOR을 없애야 5~10번이 남는다.
- 즉, **XOR에서는 자기 자신이 역원**이다.

### 2. 코드 리뷰 & 로직 ⭐
* **주의점**: N이 100만개, Q가 300만개일 때 시간복잡도를 고려,
* **시간 복잡도** : O(N + Q) : O(N)으로 전처리 이후 O(Q)로 쿼리에 대한 답변 구하기

### 3. 트러블슈팅 & 배운 점 🚩
- 누적합(Prefix Sum)의 필요충분조건 : 교환법칙, 결합법칙
- 범위 설정 : 10억이면 2^30 미만이 되고, 32비트 중 30번째 비트가
- 둘 다 1이다 -> 0
- 둘 중 하나만 1이다 -> 1
- 둘 다 0이다 -> 0
- **고로, int 범위를 초과하는 연산이 발생할 일이 없다.**